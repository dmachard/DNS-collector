# Collector: DNStap

## DNS tap

Collector to logging DNStap stream from DNS servers.
The traffic can be a tcp or unix DNStap stream. TLS is also supported.

Options:

- `listen-ip` (str) local address to bind to. Defaults to `0.0.0.0`.
  > Set the local address that the server will bind to. If not provided, the server will bind to all available network interfaces (0.0.0.0).
- `listen-port` (int) local port to bind to. Defaults to `6000`.
  > Set the local port that the server will listen on. If not provided, use the default port.
- `sock-path` (str) Unix socket path. Default to `null`.
  > Specify the path for the Unix socket to be created.
- `tls-support` (bool) set to true to enable TLS. Defaults to `false`.
  > Enables or disables TLS (Transport Layer Security) support. If set to true, TLS will be used for secure communication.
- `tls-min-version` (str) Minimun TLS version to use. Default to `1.2`.
  > Specifies the minimum TLS version that the server will support.
- `cert-file` (str) path to a certificate server file to use. Default to `(empty)`.
  > Specifies the path to the certificate file to be used for TLS. This is a required parameter if TLS support is enabled.
- `key-file`(str) path to a key server file to use. Default to `(empty)`.
  > Specifies the path to the key file corresponding to the certificate file. This is a required parameter if TLS support is enabled.
- `sock-rcvbuf` (int) sets the socket receive buffer in bytes SO_RCVBUF. Default to `0`.
  > This advanced parameter allows fine-tuning of network performance by adjusting the amount of data the socket can receive before signaling to the sender to slow down.
  > Set to zero to use the default system value.
- `reset-conn` (bool) reset TCP connection on exit. Default to `true`.
  > Set whether to send a TCP Reset to force the cleanup of the connection on the remote side when the server exits.
- `chan-buffer-size` (int) incoming channel size, number of packet before to drop it. Default to `65535`.
  > Specifies the maximum number of packets that can be buffered before dropping additional packets.
- `disable-dnsparser"` (bool) disable the minimalist DNS parser. Defaults to `false`.
  > Some JSON keys should not be available, such as `dns.id`, `dns.flags`, ...
- `extended-support` (bool) decode the extended extra field sent by DNScollector. Defaults to `false`.
  > If this setting is enabled, DNScollector will expect receiving the specific [protobuf structure](./../../dnsutils/extended_dnstap.proto) in the extra field, which must be sent by another DNS collector.
  > This field will contain additional metadata generated by various transformations such as filtering, ATags, and others.

## DNS tap Proxifier

Collector that receives DNSTAP traffic and relays it without decoding or transformations.
This collector must be used with the DNStap logger.

Dnstap stream collector can be a tcp or unix socket listener. TLS is also supported.

For config examples, take a look to the following [one](../_examples/use-case-12.yml)

Options:

- `listen-ip` (str) local address to bind to. Defaults to `0.0.0.0`.
  > Set the local address that the server will bind to. If not provided, the server will bind to all available network interfaces (0.0.0.0).
- `listen-port` (int) local port to bind to. Defaults to `6000`.
  > Set the local port that the server will listen on. If not provided, use the default port.
- `sock-path` (str) Unix socket path. Default to `null`.
  > Specify the path for the Unix socket to be created.
- `tls-support` (bool) set to true to enable TLS. Defaults to `false`.
  > Enables or disables TLS (Transport Layer Security) support. If set to true, TLS will be used for secure communication.
- `tls-min-version` (str) Minimun TLS version to use. Default to `1.2`.
  > Specifies the minimum TLS version that the server will support.
- `cert-file` (str) path to a certificate server file to use. Default to `(empty)`.
  > Specifies the path to the certificate file to be used for TLS. This is a required parameter if TLS support is enabled.
- `key-file`(str) path to a key server file to use. Default to `(empty)`.
  > Specifies the path to the key file corresponding to the certificate file. This is a required parameter if TLS support is enabled.
