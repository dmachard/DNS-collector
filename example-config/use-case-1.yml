global:
  trace:
    verbose: true

multiplexer:
  collectors:
    # As prerequisites, we assume you have a DNS server which supports DNSTap (unbound, bind, powerdns, etc)
    # For more informations about dnstap, read the following page: https://dmachard.github.io/posts/0001-dnstap-testing/
    - name: tap
      dnstap:
        listen-ip: 0.0.0.0
        listen-port: 6000

  loggers:
    - name: file
      logfile:
        file-path:  "/var/run/dnscollector/dnstap.log"
        max-size: 100
        max-files: 10
        mode: text

  routes:
    - from: [ tap ]
      to: [ file ]